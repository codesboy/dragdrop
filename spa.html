<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
	</head>

	<body>

		<canvas id="theCanvas"></canvas>
		<script type="text/javascript">
			var treeData =
	[{
		"name":"第一级 第一个",
		"children":[
				{
				"name":"第二级 第一个",
				"children":[
					{
						"name":"第三极 第一个",
						"children":[
							{
								"name":"第四集 第一个"
							}
						]
					}
				]
				
				}
		]
	},{
	
		"name":"第一级 第二个",
		"children":[
				{
				"name":"第二级 第一个",
				"children":[
					{
						"name":"第三极 第一个",
						"children":[
							{
								"name":"第四集 第一个"
							}
						]
					}
				]
				
				}
		]
		
	}
	
	]
	
			
			
			function TreeNode(data,parent){
				this.name ="";
				this.children=null;
				this.parent=parent;
				this.state='collapse';
				this.data=data;
				this.initData();
				this.initTree();
			}
			
			TreeNode.prototype.initData=function(){
				this.name = this.data.name;
				
			}
			
			TreeNode.prototype.initTree=function(){
				
				var node ;
				
				if(this.data.children){
					this.children=[];
					for(var i  =0;i<this.data.children.length;i++){
						
						node = new TreeNode(this.data.children[i],this);
						
						this.children.push(node);
						
					}
				}
				
			}
				 TreeNode.parse=function(data){
				 	
				 	var root = null;
				 	
				 	if(Array.isArray(data) && data.length >0){
				 		
				 		root = {name:"root",children:data};
				 		
				 	return	new TreeNode(root);
				 		
				 		
				 	}else if(typeof data ==="object"){
				 		
				 	 return	new TreeNode(data);
				 		
				 	}
				 	
				 		
				 }
				 
				 
				 var tree =TreeNode.parse(treeData);
				 console.log(tree);
		</script>

	</body>

</html>